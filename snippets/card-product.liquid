<div class="card-wrapper product-card-wrapper underline-links-hover">
  <div class="card card--standard card--media {{ card_color_scheme }}{% if card_style == 'standard' %} card--soft{% endif %}{% if section.settings.enable_hover_border and card_style == 'standard' %} card--border-hover{% endif %}{% if section.settings.enable_quick_add and card_style == 'standard' and product.available and product.variants.size == 1 and product.variants.first.available %} card--has-overlay{% endif %}"
       style="--ratio-percent: {{ 1 | divided_by: card_product.featured_media.preview_image.aspect_ratio | times: 100 }}%;">
    <div class="card__inner">
      <div class="card__media relative group">
        {% if card_product.featured_media %}
          <img
            src="{{ card_product.featured_media | image_url: width: 600 }}"
            alt="{{ card_product.featured_media.alt | escape }}"
            width="{{ card_product.featured_media.width }}"
            height="{{ card_product.featured_media.height }}"
            class="motion-reduce w-full"
            loading="lazy"
          >
        {% endif %}

        {% if card_product.available and card_product.variants.size == 1 and card_product.variants.first.available %}
          <form method="post" action="/cart/add" class="absolute bottom-0 left-0 w-full bg-black bg-opacity-70 text-white text-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
            <input type="hidden" name="id" value="{{ card_product.variants.first.id }}">
            <button type="submit" class="w-full py-2">Add to Cart</button>
          </form>
        {% endif %}
      </div>

      <div class="card__content">
        <div class="card__information">
          <div class="product-price">
            {% if card_product.compare_at_price > card_product.price %}
              <span class="text-red-600 line-through">{{ card_product.compare_at_price | money }}</span>
            {% endif %}
            <span class="font-semibold">{{ card_product.price | money }}</span>
          </div>
          <h3 class="card__heading h5 mt-1">
            <a href="{{ card_product.url }}" class="full-unstyled-link">
              {{ card_product.title }}
            </a>
          </h3>
        </div>
      </div>
    </div>
  </div>
</div>
